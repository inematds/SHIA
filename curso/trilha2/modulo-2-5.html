<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>M√≥dulo 2.5: RAG (Retrieval-Augmented Generation) na Pr√°tica | SHIA</title>
  <meta name="description" content="Combine LLMs com bases de conhecimento para respostas precisas, atualizadas e livres de alucina√ß√µes.">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#3B82F6',
            dark: {
              900: '#111827',
              800: '#1f2937',
              700: '#374151',
              600: '#4b5563'
            }
          }
        }
      }
    }
  </script>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }
    .dark body { background-color: #111827; }
    html:not(.dark) body { background-color: #f8fafc; }
    html:not(.dark) .bg-dark-900 { background-color: #f8fafc !important; }
    html:not(.dark) .bg-dark-800 { background-color: #ffffff !important; }
    html:not(.dark) .bg-dark-700 { background-color: #f1f5f9 !important; }
    html:not(.dark) .border-dark-600 { border-color: #e2e8f0 !important; }
    html:not(.dark) .text-neutral-100 { color: #1e293b !important; }
    html:not(.dark) .text-neutral-300 { color: #475569 !important; }
    html:not(.dark) .text-neutral-400 { color: #64748b !important; }

    /* T√≥picos sempre vis√≠veis */
    .topic-content { display: block; }
  </style>
</head>
<body class="bg-dark-900 text-neutral-100 min-h-screen">

  <!-- Navigation Global -->
  <nav class="sticky top-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-600">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-14">
        <!-- Logo + INEMA.CLUB -->
        <div class="flex items-center space-x-3">
          <a href="../../index.html" class="flex items-center space-x-2 text-blue-400 hover:text-blue-300 transition-colors">
            <span class="text-2xl">üß†</span>
            <span class="font-bold text-lg hidden sm:inline">SHIA</span>
          </a>
          <span class="text-neutral-500 hidden sm:inline">|</span>
          <a href="http://inema.club" target="_blank" class="text-sky-400 hover:text-sky-300 font-bold text-lg hidden sm:inline transition-colors">
            INEMA.CLUB
          </a>
        </div>

        <!-- Trilhas + Theme Toggle -->
        <div class="flex items-center space-x-1 sm:space-x-2">
          <a href="../trilha0/" class="px-3 py-1.5 rounded-lg text-sm font-semibold text-neutral-400 hover:text-yellow-400 hover:bg-yellow-500/10 transition-colors">
            <span class="hidden sm:inline">Trilha </span>0
          </a>
          <a href="../trilha1/" class="px-3 py-1.5 rounded-lg text-sm font-semibold text-neutral-400 hover:text-emerald-400 hover:bg-emerald-500/10 transition-colors">
            <span class="hidden sm:inline">Trilha </span>1
          </a>
          <a href="./" class="px-3 py-1.5 rounded-lg text-sm font-semibold bg-blue-500/20 text-blue-400 border border-blue-500/30">
            <span class="hidden sm:inline">Trilha </span>2
          </a>
          <a href="../trilha3/" class="px-3 py-1.5 rounded-lg text-sm font-semibold text-neutral-400 hover:text-purple-400 hover:bg-purple-500/10 transition-colors">
            <span class="hidden sm:inline">Trilha </span>3
          </a>

          <!-- Theme Toggle -->
          <button id="theme-toggle" class="p-2 rounded-lg bg-dark-700 hover:bg-dark-600 transition-colors ml-2">
            <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5 text-neutral-300" fill="currentColor" viewBox="0 0 20 20">
              <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
            </svg>
            <svg id="theme-toggle-light-icon" class="hidden w-5 h-5 text-neutral-300" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </nav>

  <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">

    <!-- Header do M√≥dulo -->
    <div class="text-center mb-12">
      <span class="inline-block px-4 py-2 bg-blue-500/20 text-blue-400 rounded-full text-sm font-semibold mb-4">
        M√ìDULO 2.5 - TRILHA 2
      </span>
      <h1 class="text-4xl sm:text-5xl font-bold mb-4">üìö RAG (Retrieval-Augmented Generation) na Pr√°tica</h1>
      <p class="text-xl text-neutral-400 max-w-2xl mx-auto">
        Combine LLMs com bases de conhecimento para respostas precisas, atualizadas e livres de alucina√ß√µes.
      </p>
    </div>

    <!-- Stats Banner -->
    <div class="grid grid-cols-3 gap-4 mb-12">
      <div class="bg-dark-800 rounded-xl p-4 text-center border border-dark-600">
        <div class="text-2xl font-bold text-blue-400">10</div>
        <div class="text-xs text-neutral-400">T√≥picos</div>
      </div>
      <div class="bg-dark-800 rounded-xl p-4 text-center border border-dark-600">
        <div class="text-2xl font-bold text-blue-400">~3h</div>
        <div class="text-xs text-neutral-400">Dura√ß√£o</div>
      </div>
      <div class="bg-dark-800 rounded-xl p-4 text-center border border-dark-600">
        <div class="text-2xl font-bold text-blue-400">Avan√ßado</div>
        <div class="text-xs text-neutral-400">N√≠vel</div>
      </div>
    </div>

    <!-- Conceito Central -->
    <section class="mb-12">
      <div class="bg-gradient-to-br from-blue-900/30 to-dark-800 rounded-2xl p-8 border border-blue-500/30">
        <div class="flex items-center mb-6">
          <span class="text-4xl mr-4">üí°</span>
          <div>
            <h2 class="text-2xl font-bold text-blue-400">Conceito Central</h2>
            <p class="text-neutral-400">A revolu√ß√£o do conhecimento contextualizado</p>
          </div>
        </div>

        <blockquote class="text-xl text-neutral-200 italic border-l-4 border-blue-500 pl-6 mb-6">
          "RAG = LLM + Sua Base de Conhecimento. Respostas fundamentadas em <strong class="text-blue-400">SEUS dados</strong>, n√£o em dados gen√©ricos."
        </blockquote>

        <p class="text-neutral-300 mb-4">
          O <strong>RAG (Retrieval-Augmented Generation)</strong> representa uma mudan√ßa fundamental na forma como interagimos com LLMs. Em vez de depender apenas do conhecimento est√°tico embutido no modelo durante o treinamento, RAG permite que o modelo acesse e utilize informa√ß√µes externas em tempo real.
        </p>

        <p class="text-neutral-300">
          Isso resolve tr√™s problemas cr√≠ticos: <strong class="text-blue-400">alucina√ß√µes</strong> (informa√ß√µes inventadas), <strong class="text-blue-400">conhecimento desatualizado</strong> (modelos s√£o congelados no tempo), e <strong class="text-blue-400">falta de especificidade</strong> (modelos n√£o conhecem seus dados internos). Com RAG, voc√™ obt√©m respostas precisas, verific√°veis e atualizadas.
        </p>
      </div>
    </section>

    <!-- T√≥picos do M√≥dulo -->
    <section class="mb-12">
      <div class="flex items-center mb-6">
        <span class="text-3xl mr-3">üìö</span>
        <h2 class="text-2xl font-bold">T√≥picos do M√≥dulo</h2>
      </div>

      <div class="space-y-3">

        <!-- T√≥pico 1 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">1</span>
            <span class="font-semibold">üìö Introdu√ß√£o ao RAG</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-3">
                  LLMs tradicionais t√™m um problema fundamental: seu conhecimento √© <strong class="text-blue-400">est√°tico</strong>. Eles s√£o treinados em dados at√© uma data de corte e n√£o sabem nada sobre eventos posteriores ou sobre seus dados internos espec√≠ficos.
                </p>
                <p class="text-neutral-300 mb-3">
                  <strong>RAG (Retrieval-Augmented Generation)</strong> resolve isso adicionando uma etapa de recupera√ß√£o de dados externos antes da gera√ß√£o. O fluxo √© simples: receba uma pergunta ‚Üí busque informa√ß√µes relevantes em sua base de conhecimento ‚Üí passe essas informa√ß√µes como contexto para o LLM ‚Üí gere resposta fundamentada.
                </p>
                <p class="text-neutral-300">
                  O resultado? <strong>Redu√ß√£o dr√°stica de alucina√ß√µes</strong>, respostas sempre atualizadas e capacidade de responder com base em documentos propriet√°rios que o modelo nunca viu durante o treinamento.
                </p>
              </div>

              <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30 mb-4">
                <h5 class="font-bold text-blue-400 mb-2">üí° Exemplo Pr√°tico</h5>
                <p class="text-neutral-300 text-sm mb-2">
                  <strong>Sem RAG:</strong> "Qual foi o faturamento da empresa no Q3 de 2024?" ‚Üí LLM alucina um n√∫mero ou diz que n√£o sabe.
                </p>
                <p class="text-neutral-300 text-sm">
                  <strong>Com RAG:</strong> Sistema busca o relat√≥rio financeiro Q3/2024, extrai dados relevantes, LLM responde com precis√£o: "Segundo o relat√≥rio financeiro, o faturamento foi de R$ 12,3M."
                </p>
              </div>

              <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                <h5 class="font-bold text-blue-400 mb-2">üéØ Ponto-Chave</h5>
                <p class="text-neutral-300 text-sm">
                  RAG transforma LLMs gen√©ricos em especialistas do seu dom√≠nio espec√≠fico.
                </p>
          </div>
        </div>
        </div>

        <!-- T√≥pico 2 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">2</span>
            <span class="font-semibold">üèóÔ∏è Arquitetura de um Sistema RAG</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-3">
                  Um sistema RAG completo possui dois componentes principais: o <strong class="text-blue-400">Recuperador (Retriever)</strong> e o <strong class="text-blue-400">Gerador (Generator)</strong>.
                </p>
                <p class="text-neutral-300 mb-4">
                  <strong>Fluxo completo em 5 etapas:</strong>
                </p>
                <ol class="text-neutral-300 space-y-2 mb-4">
                  <li><strong>1. Indexa√ß√£o:</strong> Documentos s√£o divididos em chunks e convertidos em embeddings vetoriais, armazenados em um banco de dados vetorial.</li>
                  <li><strong>2. Query:</strong> Usu√°rio faz uma pergunta ao sistema.</li>
                  <li><strong>3. Recupera√ß√£o:</strong> A pergunta √© convertida em embedding e busca-se os chunks mais similares no banco vetorial.</li>
                  <li><strong>4. Aumento (Augmentation):</strong> Os chunks recuperados s√£o adicionados como contexto ao prompt.</li>
                  <li><strong>5. Gera√ß√£o:</strong> O LLM gera a resposta baseada no contexto fornecido.</li>
                </ol>
              </div>

              <div class="bg-purple-900/20 p-4 rounded-lg border border-purple-500/30">
                <h5 class="font-bold text-purple-400 mb-2">üîç Analogia</h5>
                <p class="text-neutral-300 text-sm">
                  Pense em RAG como um estudante fazendo uma prova: em vez de confiar apenas na mem√≥ria (LLM puro), ele pode consultar livros e anota√ß√µes (Retriever) antes de escrever a resposta (Generator).
                </p>
              </div>
            </div>
          </div>

        <!-- T√≥pico 3 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">3</span>
            <span class="font-semibold">‚úÇÔ∏è Chunking e Embeddings</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-3">
                  <strong>Chunking</strong> √© o processo de dividir documentos grandes em peda√ßos menores e gerenci√°veis. Por qu√™? LLMs t√™m limite de contexto (tokens) e chunks pequenos facilitam a recupera√ß√£o precisa.
                </p>
                <p class="text-neutral-300 mb-4">
                  <strong>Estrat√©gias de Chunking:</strong>
                </p>
                <ul class="text-neutral-300 space-y-2 mb-4">
                  <li>‚Ä¢ <strong>Por tamanho fixo:</strong> Dividir a cada N caracteres ou tokens (ex: 500 tokens com overlap de 50)</li>
                  <li>‚Ä¢ <strong>Por estrutura:</strong> Respeitar par√°grafos, se√ß√µes, cap√≠tulos</li>
                  <li>‚Ä¢ <strong>Sem√¢ntico:</strong> Usar NLP para identificar mudan√ßas de t√≥pico</li>
                </ul>
                <p class="text-neutral-300 mb-4">
                  <strong>Embeddings</strong> s√£o representa√ß√µes vetoriais que capturam o significado sem√¢ntico do texto. Textos similares t√™m embeddings pr√≥ximos no espa√ßo vetorial.
                </p>
                <p class="text-neutral-300">
                  <strong>Modelos populares:</strong> OpenAI text-embedding-ada-002, Sentence-Transformers (all-MiniLM-L6-v2, multi-qa-mpnet-base), Cohere Embed.
                </p>
              </div>

              <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                <h5 class="font-bold text-blue-400 mb-2">‚öôÔ∏è Dica de Implementa√ß√£o</h5>
                <p class="text-neutral-300 text-sm">
                  Use overlap entre chunks (ex: 10-20% do tamanho do chunk) para n√£o perder contexto nas fronteiras. Chunk muito pequeno = perda de contexto. Chunk muito grande = informa√ß√£o irrelevante.
                </p>
              </div>
            </div>
          </div>

        <!-- T√≥pico 4 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">4</span>
            <span class="font-semibold">üóÑÔ∏è Bancos de Dados Vetoriais</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-3">
                  Bancos de dados vetoriais s√£o otimizados para busca por similaridade usando <strong class="text-blue-400">ANN (Approximate Nearest Neighbor)</strong>. Eles permitem encontrar os K vetores mais pr√≥ximos de uma query em milissegundos, mesmo com milh√µes de documentos.
                </p>
                <p class="text-neutral-300 mb-4">
                  <strong>Principais op√ß√µes:</strong>
                </p>
              </div>

              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                  <h5 class="font-bold text-blue-400 mb-2">‚òÅÔ∏è Pinecone</h5>
                  <p class="text-neutral-300 text-sm">Cloud-native, escal√°vel, f√°cil de usar. √ìtimo para come√ßar e produ√ß√£o.</p>
                </div>
                <div class="bg-purple-900/20 p-4 rounded-lg border border-purple-500/30">
                  <h5 class="font-bold text-purple-400 mb-2">üî∑ Weaviate</h5>
                  <p class="text-neutral-300 text-sm">Open-source, GraphQL API, suporta m√≥dulos de ML integrados.</p>
                </div>
                <div class="bg-emerald-900/20 p-4 rounded-lg border border-emerald-500/30">
                  <h5 class="font-bold text-emerald-400 mb-2">üé® Chroma</h5>
                  <p class="text-neutral-300 text-sm">Leve, open-source, perfeito para desenvolvimento e prototipagem.</p>
                </div>
                <div class="bg-yellow-900/20 p-4 rounded-lg border border-yellow-500/30">
                  <h5 class="font-bold text-yellow-400 mb-2">‚ö° FAISS</h5>
                  <p class="text-neutral-300 text-sm">Facebook AI, biblioteca C++/Python. Ultra-r√°pido, requer mais setup.</p>
                </div>
              </div>

              <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                <h5 class="font-bold text-blue-400 mb-2">üìè M√©tricas de Similaridade</h5>
                <ul class="text-neutral-300 text-sm space-y-1">
                  <li>‚Ä¢ <strong>Cosseno:</strong> Mede √¢ngulo entre vetores (mais comum para texto)</li>
                  <li>‚Ä¢ <strong>Euclidiana:</strong> Dist√¢ncia em linha reta</li>
                  <li>‚Ä¢ <strong>Dot Product:</strong> Produto escalar (usado por OpenAI)</li>
                </ul>
              </div>
            </div>
          </div>

        <!-- T√≥pico 5 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">5</span>
            <span class="font-semibold">üß† O Papel do LLM no RAG</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-3">
                  No RAG, o LLM recebe o contexto recuperado e o sintetiza em uma resposta fluente e coerente. Ele N√ÉO precisa "saber" tudo - apenas saber <strong class="text-blue-400">compreender e sintetizar</strong> o que √© fornecido.
                </p>
                <p class="text-neutral-300 mb-4">
                  <strong>Template t√≠pico de prompt RAG:</strong>
                </p>
              </div>

              <div class="bg-dark-900/70 p-4 rounded-lg border border-blue-500/30 mb-4">
                <code class="text-sm text-blue-300 block whitespace-pre-wrap">Voc√™ √© um assistente especializado. Use APENAS as informa√ß√µes
do contexto abaixo para responder √† pergunta do usu√°rio.
Se a resposta n√£o estiver no contexto, diga claramente
"N√£o encontrei essa informa√ß√£o nos documentos fornecidos."

CONTEXTO:
{chunks_recuperados}

PERGUNTA DO USU√ÅRIO:
{user_query}

RESPOSTA:</code>
              </div>

              <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                <h5 class="font-bold text-blue-400 mb-2">üéØ Pontos Cr√≠ticos</h5>
                <ul class="text-neutral-300 text-sm space-y-1">
                  <li>‚Ä¢ Instrua explicitamente o LLM a se limitar ao contexto fornecido</li>
                  <li>‚Ä¢ Pe√ßa cita√ß√µes ou refer√™ncias quando poss√≠vel</li>
                  <li>‚Ä¢ Configure temperatura baixa (0.0-0.3) para respostas mais determin√≠sticas</li>
                </ul>
              </div>
            </div>
          </div>

        <!-- T√≥pico 6 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">6</span>
            <span class="font-semibold">üìè Avaliando Qualidade do RAG</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-3">
                  Avaliar a qualidade de um sistema RAG √© essencial para garantir que ele est√° funcionando corretamente e melhorando ao longo do tempo.
                </p>
                <p class="text-neutral-300 mb-4">
                  <strong>M√©tricas principais:</strong>
                </p>
                <ul class="text-neutral-300 space-y-2 mb-4">
                  <li>‚Ä¢ <strong>Hit Rate (Recall@K):</strong> Em quantos % dos casos o documento correto est√° nos top K resultados?</li>
                  <li>‚Ä¢ <strong>MRR (Mean Reciprocal Rank):</strong> Em que posi√ß√£o, em m√©dia, aparece o documento correto?</li>
                  <li>‚Ä¢ <strong>Faithfulness:</strong> A resposta est√° fundamentada no contexto ou alucinou?</li>
                  <li>‚Ä¢ <strong>Answer Relevancy:</strong> A resposta realmente responde √† pergunta?</li>
                </ul>
              </div>

              <div class="bg-purple-900/20 p-4 rounded-lg border border-purple-500/30 mb-4">
                <h5 class="font-bold text-purple-400 mb-2">üß™ Frameworks de Avalia√ß√£o</h5>
                <ul class="text-neutral-300 text-sm space-y-2">
                  <li><strong>RAGAs:</strong> Framework completo para avaliar RAG (Context Precision, Context Recall, Faithfulness, Answer Relevancy)</li>
                  <li><strong>ARES:</strong> Automated RAG Evaluation System usando LLMs como ju√≠zes</li>
                  <li><strong>TruLens:</strong> Observabilidade e avalia√ß√£o end-to-end</li>
                </ul>
              </div>

              <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                <h5 class="font-bold text-blue-400 mb-2">üí° Dica</h5>
                <p class="text-neutral-300 text-sm">
                  Crie um conjunto de teste com perguntas e respostas esperadas (golden dataset). Avalie periodicamente seu sistema contra esse conjunto.
                </p>
              </div>
            </div>
          </div>

        <!-- T√≥pico 7 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">7</span>
            <span class="font-semibold">‚ö° RAG Avan√ßado</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-4">
                  RAG b√°sico funciona, mas t√©cnicas avan√ßadas levam a qualidade a outro n√≠vel:
                </p>
                <div class="space-y-3">
                  <div class="bg-blue-900/20 p-3 rounded-lg border border-blue-500/20">
                    <h6 class="font-bold text-blue-400 mb-1">üîÄ Hybrid Search</h6>
                    <p class="text-neutral-300 text-sm">Combina busca vetorial (sem√¢ntica) com busca lexical (BM25). Captura tanto significado quanto correspond√™ncias exatas de palavras-chave.</p>
                  </div>
                  <div class="bg-purple-900/20 p-3 rounded-lg border border-purple-500/20">
                    <h6 class="font-bold text-purple-400 mb-1">üéØ Re-ranking</h6>
                    <p class="text-neutral-300 text-sm">Ap√≥s recupera√ß√£o inicial, um modelo de re-ranking (ex: Cohere Rerank, Cross-Encoder) reordena resultados para melhor precis√£o.</p>
                  </div>
                  <div class="bg-emerald-900/20 p-3 rounded-lg border border-emerald-500/20">
                    <h6 class="font-bold text-emerald-400 mb-1">üîÑ Query Transformations</h6>
                    <p class="text-neutral-300 text-sm">Reformule ou expanda a query original. T√©cnicas: HyDE (Hypothetical Document Embeddings), Query Expansion, Step-back Prompting.</p>
                  </div>
                  <div class="bg-yellow-900/20 p-3 rounded-lg border border-yellow-500/20">
                    <h6 class="font-bold text-yellow-400 mb-1">üóúÔ∏è Context Compression</h6>
                    <p class="text-neutral-300 text-sm">Use um LLM para resumir/filtrar chunks recuperados antes de passar para o LLM final. Reduz custos e melhora precis√£o.</p>
                  </div>
                </div>
              </div>

              <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                <h5 class="font-bold text-blue-400 mb-2">üöÄ Resultado</h5>
                <p class="text-neutral-300 text-sm">
                  Essas t√©cnicas podem aumentar o hit rate de ~60% (RAG b√°sico) para >85% (RAG avan√ßado).
                </p>
              </div>
            </div>
          </div>

        <!-- T√≥pico 8 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">8</span>
            <span class="font-semibold">üî® Construindo seu Primeiro App RAG</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-3">
                  Vamos construir um sistema RAG b√°sico usando <strong class="text-blue-400">LangChain + OpenAI + Chroma</strong>.
                </p>
              </div>

              <div class="bg-dark-900/70 p-4 rounded-lg border border-blue-500/30 mb-4">
                <h5 class="font-bold text-blue-400 mb-3">üìù C√≥digo Completo (Python)</h5>
                <code class="text-xs text-blue-300 block whitespace-pre-wrap">from langchain.document_loaders import DirectoryLoader, TextLoader
from langchain.text_splitter import RecursiveCharacterTextSplitter
from langchain.embeddings import OpenAIEmbeddings
from langchain.vectorstores import Chroma
from langchain.chat_models import ChatOpenAI
from langchain.chains import RetrievalQA

# 1. Carregar documentos
loader = DirectoryLoader('./docs', glob="**/*.txt", loader_cls=TextLoader)
documents = loader.load()

# 2. Chunking
text_splitter = RecursiveCharacterTextSplitter(
    chunk_size=500,
    chunk_overlap=50
)
chunks = text_splitter.split_documents(documents)

# 3. Criar embeddings e armazenar no Chroma
embeddings = OpenAIEmbeddings()
vectorstore = Chroma.from_documents(chunks, embeddings)

# 4. Criar retriever
retriever = vectorstore.as_retriever(search_kwargs={"k": 3})

# 5. Criar chain RAG
llm = ChatOpenAI(model="gpt-4", temperature=0)
qa_chain = RetrievalQA.from_chain_type(
    llm=llm,
    retriever=retriever,
    return_source_documents=True
)

# 6. Fazer pergunta
result = qa_chain({"query": "Qual √© a pol√≠tica de f√©rias da empresa?"})
print(result['result'])
print("Fontes:", [doc.metadata for doc in result['source_documents']])</code>
              </div>

              <div class="bg-emerald-900/20 p-4 rounded-lg border border-emerald-500/30">
                <h5 class="font-bold text-emerald-400 mb-2">üéØ O que acontece aqui?</h5>
                <ol class="text-neutral-300 text-sm space-y-1">
                  <li>1. Carrega todos os .txt da pasta ./docs</li>
                  <li>2. Divide em chunks de 500 chars com overlap de 50</li>
                  <li>3. Cria embeddings e armazena no Chroma (local)</li>
                  <li>4. Quando voc√™ faz uma pergunta, busca os 3 chunks mais relevantes</li>
                  <li>5. Passa os chunks como contexto para o GPT-4</li>
                  <li>6. Retorna resposta + documentos fonte</li>
                </ol>
              </div>
            </div>
          </div>

        <!-- T√≥pico 9 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">9</span>
            <span class="font-semibold">üåç Casos de Uso no Mundo Real</span>
          </div>
          <div class="p-5">
              <div class="grid md:grid-cols-2 gap-4 mb-4">
                <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                  <h5 class="font-bold text-blue-400 mb-2">üí¨ Chatbots de Suporte</h5>
                  <p class="text-neutral-300 text-sm mb-2">Responda d√∫vidas de clientes com base em documenta√ß√£o, FAQs e base de conhecimento interna.</p>
                  <p class="text-neutral-400 text-xs">Ex: Intercom, Zendesk AI</p>
                </div>
                <div class="bg-purple-900/20 p-4 rounded-lg border border-purple-500/30">
                  <h5 class="font-bold text-purple-400 mb-2">üîç Pesquisa Interna</h5>
                  <p class="text-neutral-300 text-sm mb-2">Encontre informa√ß√µes em milhares de documentos corporativos instantaneamente.</p>
                  <p class="text-neutral-400 text-xs">Ex: Glean, Notion AI</p>
                </div>
                <div class="bg-emerald-900/20 p-4 rounded-lg border border-emerald-500/30">
                  <h5 class="font-bold text-emerald-400 mb-2">üìÑ An√°lise de Documentos</h5>
                  <p class="text-neutral-300 text-sm mb-2">Extraia insights de contratos, relat√≥rios financeiros, documentos jur√≠dicos.</p>
                  <p class="text-neutral-400 text-xs">Ex: Harvey AI (jur√≠dico)</p>
                </div>
                <div class="bg-yellow-900/20 p-4 rounded-lg border border-yellow-500/30">
                  <h5 class="font-bold text-yellow-400 mb-2">üíª Assistentes de Programa√ß√£o</h5>
                  <p class="text-neutral-300 text-sm mb-2">Responda d√∫vidas sobre sua codebase espec√≠fica, padr√µes e arquitetura.</p>
                  <p class="text-neutral-400 text-xs">Ex: GitHub Copilot Chat com RAG</p>
                </div>
              </div>

              <div class="bg-blue-900/20 p-4 rounded-lg border border-blue-500/30">
                <h5 class="font-bold text-blue-400 mb-2">üìä Estat√≠stica Impressionante</h5>
                <p class="text-neutral-300 text-sm">
                  Empresas que implementam RAG relatam redu√ß√£o de 70-90% em alucina√ß√µes e aumento de 3-5x na satisfa√ß√£o do usu√°rio comparado a LLMs puros.
                </p>
              </div>
            </div>
          </div>

        <!-- T√≥pico 10 -->
        <div class="bg-dark-800 rounded-xl border border-dark-600 overflow-hidden">
          <div class="p-5 flex items-center border-b border-dark-700">
            <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-dark-900 font-bold text-sm mr-4">10</span>
            <span class="font-semibold">üöÄ O Futuro do RAG</span>
          </div>
          <div class="p-5">
              <div class="bg-dark-700/50 rounded-lg p-4 mb-4">
                <p class="text-neutral-300 mb-4">
                  O RAG est√° evoluindo rapidamente. Estas s√£o as tend√™ncias mais promissoras:
                </p>
                <div class="space-y-3">
                  <div class="bg-purple-900/20 p-3 rounded-lg border border-purple-500/20">
                    <h6 class="font-bold text-purple-400 mb-1">üé® RAG Multimodal</h6>
                    <p class="text-neutral-300 text-sm">Indexar e recuperar n√£o apenas texto, mas imagens, v√≠deos, √°udio. Modelos como GPT-4V e Gemini j√° suportam entrada multimodal.</p>
                  </div>
                  <div class="bg-emerald-900/20 p-3 rounded-lg border border-emerald-500/20">
                    <h6 class="font-bold text-emerald-400 mb-1">üîÑ Self-Correcting RAG</h6>
                    <p class="text-neutral-300 text-sm">Sistemas que detectam quando a resposta est√° incorreta ou incompleta e automaticamente refinam a busca e tentam novamente.</p>
                  </div>
                  <div class="bg-blue-900/20 p-3 rounded-lg border border-blue-500/20">
                    <h6 class="font-bold text-blue-400 mb-1">ü§ñ RAG + Agentes</h6>
                    <p class="text-neutral-300 text-sm">Integra√ß√£o de RAG com sistemas de agentes que podem decidir quando e como usar retrieval, executar a√ß√µes e iterar.</p>
                  </div>
                  <div class="bg-yellow-900/20 p-3 rounded-lg border border-yellow-500/20">
                    <h6 class="font-bold text-yellow-400 mb-1">‚ö° RAG em Edge</h6>
                    <p class="text-neutral-300 text-sm">Modelos menores e mais eficientes permitindo RAG rodar localmente em dispositivos, garantindo privacidade total.</p>
                  </div>
                </div>
              </div>

              <div class="bg-gradient-to-br from-blue-900/30 to-purple-900/30 p-4 rounded-lg border border-blue-500/30">
                <h5 class="font-bold text-blue-400 mb-2">üîÆ Previs√£o</h5>
                <p class="text-neutral-300 text-sm">
                  At√© 2026, RAG ser√° t√£o fundamental quanto APIs REST s√£o hoje. Todo sistema que usa LLM usar√° alguma forma de retrieval.
                </p>
              </div>
            </div>
          </div>

      </div>
    </section>

    <!-- Resumo / Checklist -->
    <section class="mb-12">
      <div class="bg-primary/10 rounded-2xl p-8 border border-primary/30">
        <h2 class="text-2xl font-bold text-primary mb-6 text-center">‚úÖ Resumo do M√≥dulo</h2>

        <div class="grid md:grid-cols-2 gap-4 mb-6">
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">RAG = LLM + Base de Conhecimento Externa</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">Fluxo: Indexa√ß√£o ‚Üí Recupera√ß√£o ‚Üí Aumento ‚Üí Gera√ß√£o</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">Chunking e embeddings s√£o fundamentais</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">Bancos vetoriais permitem busca sem√¢ntica</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">Avalia√ß√£o cont√≠nua com RAGAs, ARES</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">T√©cnicas avan√ßadas: Hybrid, Re-ranking, Compression</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">LangChain facilita implementa√ß√£o</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">Casos de uso: Suporte, pesquisa, an√°lise</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">Futuro: Multimodal, Self-Correcting, Agentes</span>
          </div>
          <div class="flex items-start">
            <span class="text-emerald-400 mr-2">‚úì</span>
            <span class="text-neutral-300">RAG reduz alucina√ß√µes em 70-90%</span>
          </div>
        </div>

        <div class="text-center">
          <a href="trilha21.html" class="inline-flex items-center space-x-2 px-6 py-3 bg-primary text-white rounded-lg font-bold hover:bg-primary/90 transition-colors">
            <span>Voltar para Trilha 2</span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
          </a>
        </div>
      </div>
    </section>

    <!-- Navega√ß√£o -->
    <div class="flex justify-between items-center">
      <a href="modulo-2-4.html" class="inline-flex items-center space-x-2 text-neutral-400 hover:text-blue-400 transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        <span>Anterior: M√≥dulo 2.4</span>
      </a>
      <a href="modulo-2-6.html" class="inline-flex items-center space-x-2 px-6 py-3 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-400 transition-colors">
        <span>Pr√≥ximo: M√≥dulo 2.6</span>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </a>
    </div>

  </main>

  <!-- Footer -->
  <footer class="bg-dark-900 border-t border-dark-700 py-8 mt-12">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <p class="text-neutral-500 text-sm">
        SHIA - Super Humanos Intelig√™ncia Aumentada | Trilha 2 - M√≥dulo 2.5
      </p>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Theme Toggle
    const themeToggleBtn = document.getElementById('theme-toggle');
    const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
    const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

    if (localStorage.getItem('color-theme') === 'dark' ||
        (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark');
      themeToggleLightIcon.classList.remove('hidden');
    } else {
      document.documentElement.classList.remove('dark');
      themeToggleDarkIcon.classList.remove('hidden');
    }

    themeToggleBtn.addEventListener('click', function() {
      themeToggleDarkIcon.classList.toggle('hidden');
      themeToggleLightIcon.classList.toggle('hidden');

      if (document.documentElement.classList.contains('dark')) {
        document.documentElement.classList.remove('dark');
        localStorage.setItem('color-theme', 'light');
      } else {
        document.documentElement.classList.add('dark');
        localStorage.setItem('color-theme', 'dark');
      }
    });

  </script>

</body>
</html>
